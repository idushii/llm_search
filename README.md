# Сервис итеративного поиска информации

Консольное приложение для выполнения итеративного поиска информации в интернете на основе запросов пользователя.

## Описание

Приложение позволяет пользователю вводить исходный запрос через консоль. Запрос обрабатывается с использованием языковой модели (LLM) для генерации набора релевантных тем для поиска. Поиск выполняется с использованием SearchXNg, а результаты предоставляются пользователю в структурированном виде.

## Функциональность

- Ввод запроса через консоль
- Генерация набора тем для поиска с использованием LLM
- Выполнение поисковых запросов по сгенерированным темам
- Получение и обработка результатов поиска
- Структурированное сохранение результатов:
  - Отдельные страницы в директории `/cache`
  - Список тем в файле `/topics_<query>.md`
  - Результаты поиска в файле `/results_<query>.json`
  - Полный отчет в формате Markdown
- Контроль лимитов запросов к API

## Технический стек

- Язык программирования: Python 3.8+
- Модель LLM: llama-3.2-3b (через API)
- Поисковый движок: SearchXNg
- API для парсинга сайтов: https://r.jina.ai/
- Библиотеки: requests, aiohttp, asyncio, dotenv

## Установка

1. Клонируйте репозиторий:
```bash
git clone <URL_репозитория>
cd <имя_директории>
```

1.1. Создайте виртуальное окружение:
```bash
python -m venv venv
source venv/bin/activate # на Windows: venv\Scripts\activate
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` в корневой директории проекта:
```
# API ключ для доступа к языковой модели
AITUNNEL_API_KEY=sk-aitunnel-xxx

# Данные для аутентификации в SearchXNg (если требуется)
SEARCHXNG_BASIC_AUTH_LOGIN=username
SEARCHXNG_BASIC_AUTH_PASSWORD=password

# Лимиты запросов
# SearchXNg: 10 запросов в минуту с равным интервалом
LIMIT_SEARCHXNG_RPM=10

# Jina: 5 запросов в секунду
LIMIT_JINA_RPS=5

# Aitunnel: 2 запроса в секунду
LIMIT_AITUNNEL_RPS=2

# Количество тем для генерации
COUNT_RU_TOPICS=3
COUNT_EN_TOPICS=2
```

## Использование

1. Запустите приложение:
```bash
python main.py
```

2. Введите запрос в консоли.

3. Просмотрите и при необходимости отредактируйте сгенерированные темы для поиска.

4. Дождитесь завершения поиска и обработки результатов.

5. Результаты будут сохранены в следующих файлах:
   - `/topics_<query>.md` - список тем для поиска
   - `/results_<query>.json` - результаты поиска в формате JSON
   - `/results_<query>_<timestamp>.md` - полный отчет в формате Markdown
   - `/cache/` - директория с содержимым отдельных страниц

## Структура проекта

- `main.py` - основной файл приложения с консольным интерфейсом
- `planned.py` - модуль для обработки запросов и взаимодействия с LLM
- `scraping.py` - модуль для выполнения поисковых запросов и обработки результатов
- `requirements.txt` - список зависимостей
- `README.md` - документация
- `cache/` - директория для хранения содержимого страниц

## Пример использования

1. Запустите приложение:
```bash
python main.py
```

2. Введите запрос, например: "Как работает квантовый компьютер"

3. Программа сгенерирует темы для поиска, которые можно будет отредактировать

4. После выполнения поиска результаты будут сохранены в соответствующие файлы

## Лицензия

[MIT License](LICENSE) 